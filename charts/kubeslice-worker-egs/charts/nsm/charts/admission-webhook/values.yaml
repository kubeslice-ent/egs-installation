---
# Default values for admission-webhook.
# This is a YAML-formatted file.
# Declare variables to be passed into your templates.
global:
  # These values will be inherited from parent chart's global configuration
  # imageRegistry: ""  # Inherited from parent
  # imagePullSecrets: {}  # Inherited from parent
  
  # Admission-webhook-specific global configuration (will use parent's imagePullSecrets.secretName)
  nsmw_docker_existingImagePullSecret: ""  # Will be set by parent chart
  
  # Legacy configuration - kept for backward compatibility but not used when parent global config is available
  nsmw_docker_imagePullSecrets:
    repository: 
    username: ''
    password: ''
    email: ''

admissionWebhook:
  webhookImageRegistry: cmd-admission-webhook-k8s
  webhookImageTag: 1.7.3
  labels:
    app: kubeslice-nsm-webhook
  annotations: {}
  containerSecurityContext: {}
    # runAsUser: 65536
    # runAsGroup: 65536
    # runAsNonRoot: true
    # seccompProfile:
    #   type: RuntimeDefault
    # allowPrivilegeEscalation: false
    # capabilities:
    #   drop:
    #     - ALL
    # readOnlyRootFilesystem: true
  podSecurityContext: {}
    # runAsUser: 65536               # Non-root user
    # runAsGroup: 65536              # Non-root group
    # runAsNonRoot: true             # Ensure the container does not run as root
    # seccompProfile:
    #   type: RuntimeDefault
  resources: {}
    # requests:
    #   cpu: 200m
    #   memory: 100Mi
    # limits:
    #   memory: 200Mi
    #   cpu: 500m
  tolerations:
    - key: "kubeslice.io/egs"
      operator: "Equal"
      value: "dedicated-node"
      effect: "NoSchedule"
    - key: "node.kubernetes.io/not-ready"
      operator: "Exists"
      effect: "NoExecute"
      tolerationSeconds: 300
    - key: "node.kubernetes.io/unreachable"
      operator: "Exists"
      effect: "NoExecute"
      tolerationSeconds: 300
    - key: "node.kubernetes.io/memory-pressure"
      operator: "Exists"
      effect: "NoSchedule"
    - key: "node-role.kubernetes.io/control-plane"
      operator: "Exists"
      effect: "NoSchedule"
  affinity: {}
    # nodeAffinity:
    #   requiredDuringSchedulingIgnoredDuringExecution:
    #     nodeSelectorTerms:
    #     - matchExpressions:
    #       - key: kubernetes.io/arch
    #         operator: In
    #         values:
    #         - amd64
    #         - arm64

nsmInjectContainerImageRegistry: cmd-nsc
nsmInjectContainerImageTag: 1.5.14

nsmInjectInitContainerImageRegistry: cmd-nsc-init
nsmInjectInitContainerImageTag: 1.5.9
nsmInitContainerUpdateDNSConfig: true

# nsm admission webhook ns
nsmNs: kubeslice-nsm-webhook-system
